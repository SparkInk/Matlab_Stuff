%{
    The main program for the PROJECT 4
%}

syms t

% distance between the wheels and initial conditions
L = 0.5;
vR = 2 - 0.5 * t; % change according to the problem being solved
vL = 1;
theta0 = 0;
% declaration of arrays for coordinates and angle
x = (100000);
y = (100000);

vMain = (vR + vL) / 2;
angSpeed =(vR - vL) / L;

theta = theta0 +int(angSpeed, t);

i = 1;

for time = 0:0.1:3 
    
    % main values 
   
    x(i) = trapezium(vMain * cos(theta), 0, time);
    y(i) = trapezium(vMain * sin(theta), 0, time);
    
    i = i + 1;
end

% to compute Maclaurin series we used Matlab's internal functions: int()and
% taylor()
T = (0:0.1:3);
X = - (3680660787960672627931*T.^38)/1028054284946636091911562111253217280000000 - (602897649200083651443959*T.^37)/9175835394150896697543986387720601600000000 + (15577625309822365403*T.^36)/27969423066909865975037552492544000000 - (440675152784445407047*T.^35)/246027332533003450706348841369600000000 - (13575253746683025539*T.^34)/3253253983907483645703786332160000000 + (5488072291794333361*T.^33)/71467634722731576094799953920000000 - (1593372269896793767*T.^32)/4244045756995056938180935680000000 + (155218441874249023*T.^31)/456824369676551267651420160000000 + (269713992259156667*T.^30)/36586601353405663260180480000000 - (61740403008172267*T.^29)/1178901599165293593939148800000 + (18938571469253*T.^28)/141152011394311972454400000 + (249269393953753*T.^27)/604937191689908453376000000 - (336582053681113*T.^26)/64526633780256901693440000 + (206179645109729*T.^25)/10340806695553990656000000 - (30088629433*T.^24)/13488008733331292160000 - (58894365253*T.^23)/159580350240030720000 + (407975016899*T.^22)/214095376719544320000 - (2045270951*T.^21)/695114859479040000 - (559473053*T.^20)/32011868528640000 + (513984283*T.^19)/4054836680294400 - (92233949*T.^18)/301288174387200 - (108170879*T.^17)/237124952064000 + (375103*T.^16)/63402393600 - (1300633*T.^15)/72648576000 + (3851*T.^14)/26824089600 + (263587*T.^13)/1383782400 - (3583*T.^12)/5443200 + (2819*T.^11)/6652800 + (6647*T.^10)/1612800 - (241*T.^9)/16128 + (7*T.^8)/576 + (7*T.^7)/120 - (109*T.^6)/576 + (9*T.^5)/80 + T.^4/2 - T.^3 - T.^2/8 + (3*T)/2;
Y = - (3132981266670755929498649*T.^38)/174340872488867037253335741366691430400000000 + (29720285680654236806027*T.^37)/382326474756287362397666099488358400000000 + (2837627464931428502363*T.^36)/165330367462178318874666421400371200000000 - (2933453813680812617621*T.^35)/1215664466633664109372547216179200000000 + (303195797747279770237*T.^34)/19682186602640276056507907309568000000 - (76924726245524719*T.^33)/2359597179024969156390813696000000 - (425907850546767361*T.^32)/2051702432231528500329185280000000 + (2348943456177845377*T.^31)/1096378487223723042363408384000000 - (695329789334708981*T.^30)/88417619937397019545436160000000 - (1571586548318197*T.^29)/315777214062132212662272000000 + (12388269975220367*T.^28)/58073970402231211524096000000 - (904060457401*T.^27)/814395082488938496000000 + (213910439684341*T.^26)/134430487042201878528000000 + (9311560227491*T.^25)/646300418472124416000000 - (5987213234941*T.^24)/55150969042954616832000 + (271470015569*T.^23)/940073335959453696000 + (21654630839*T.^22)/41629656584355840000 - (19343773621*T.^21)/2554547108585472000 + (89115936641*T.^20)/3243869344235520000 - (216968333*T.^19)/27032244535296000 - (88135631*T.^18)/237124952064000 + (38050787*T.^17)/22230464256000 - (61383611*T.^16)/27897053184000 - (4610231*T.^15)/373621248000 + (1333*T.^14)/18450432 - (13553*T.^13)/103783680 - (166951*T.^12)/638668800 + (6491*T.^11)/3193344 - (4931*T.^10)/1209600 - (157*T.^9)/45360 + (1949*T.^8)/53760 - (227*T.^7)/3360 - (3*T.^6)/80 + (11*T.^5)/30 - (15*T.^4)/32 - (5*T.^3)/12 + (3*T.^2)/2;

% plotting the functions
plot(x, y, 'r', X, Y, 'b');
grid on;
xlim = ([0 2]);
ylim = ([0 3]);
legend('Original', 'Maclaurin series');
title('Original function vs 38 terms');